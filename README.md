# Sofia Desktop Agent

## Описание

Минимальное кроссплатформенное CLI-приложение на Node.js, выполняющее роль моста между AI-ассистентом София и локальной файловой системой пользователя. Позволяет обмениваться данными памяти между чатом и компьютером без необходимости установки самого плагина.

---

## Установка

### Требования:
- Node.js v18+
- Git (для клонирования проекта)

### Быстрый старт:
```sh
git clone https://github.com/redvampir/sofia-desktop-agent.git
cd sofia-desktop-agent
npm install
node index.js
```

## Назначение

### Приложение:

- Обеспечивает локальное хранилище файлов памяти
- Позволяет чату Софии сохранять и загружать память на ПК
- Поддерживает команды управления (выбор пути, смена папки, переключение проекта и т.д.)


## Структура проекта

```
sofia-desktop-agent/
├── index.js              # Главная точка входа
├── memory_mode.js        # Логика обработки команд
├── memory.js             # Работа с файлами памяти
├── helpers.js            # Вспомогательные функции (валидация, логгирование)
├── config/
│   └── settings.json     # Настройки путей к памяти
├── examples/             # Примеры использования (в будущем)
└── README.md
```

## Используемые стили и рекомендации для Codex

### Стили именования:

- `snake_case` — переменные, функции, модули
- `UPPER_SNAKE_CASE` — константы
- `ClassName — классы` (PascalCase)
- `Custom_Style_Naming` — для служебных функций: Write_File_Safe, Validate_Path, Parse_Command

### Правила:

- Каждый модуль должен быть узко специализирован
- Комментарии и описания (docstring) — **на русском языке**
- Использовать `try/catch` в местах взаимодействия с файловой системой
- Не использовать магические числа
- Структурировать код так, чтобы Codex мог безопасно добавлять новые команды

## Работа с Codex

### Codex должен:

- Разделять код по функциональным модулям
- Не писать длинных файлов. Более 2000 строк, рекомедуемое дляна файлов 500-1000 строк
- Писать все комментарии и docstring на русском
- Формировать команды в формате:
    - /set_local_path path="..." — указание папки памяти
    - /set_memory_folder name="..." — переключение проекта
    - /switch_memory_repo type=local path="..." — смена источника памяти
    - /switch_memory_mode mode=local|github — выбор активного режима
    - /load_memory filename="..." — загрузка файла памяти

## Разработка

### Рекомендуется использовать:

```
npm run dev
```

## Лицензия и автор

> Разработчик: Павел Кроворов
>
> Репозиторий: https://github.com/redvampir/sofia-desktop-agent